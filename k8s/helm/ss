[debug] Created tunnel using local port: '49894'

[debug] SERVER: "127.0.0.1:49894"

[debug] Original chart version: ""
[debug] CHART PATH: /Users/suneeta.mall/Documents/Wks/go/src/github.com/nearmap/cvmanager/k8s/helm/cvmanager

NAME:   sartorial-snake
REVISION: 1
RELEASED: Wed Mar 28 17:48:03 2018
CHART: cvmanager-0.1.0
USER-SUPPLIED VALUES:
service:
  type: NodePort

COMPUTED VALUES:
affinity: {}
image:
  pullPolicy: IfNotPresent
  repository: nearmap/cvmanager
  tag: 39891f1f2e80e9ada3c13d4a522ebd207ac4acea
ingress:
  annotations: {}
  enabled: false
  hosts:
  - chart-example.local
  path: /
  tls: []
namespace: kube-system
nodeSelector:
  node-role.kubernetes.io/master: ""
replicaCount: 1
resources: {}
service:
  port: 8081
  type: NodePort
tolerations:
- effect: NoSchedule
  key: node-role.kubernetes.io/master

HOOKS:
MANIFEST:

---
# Source: cvmanager/templates/configmap.yaml
kind: ConfigMap
apiVersion: v1
data:
  version: 39891f1f2e80e9ada3c13d4a522ebd207ac4acea
metadata:
  name: sartorial-snake-cvmanager
  namespace: kube-system
---
# Source: cvmanager/templates/cv-crd.yaml
# https://kubernetes.io/docs/tasks/access-kubernetes-api/extend-api-custom-resource-definitions/
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: containerversions.custom.k8s.io
spec:
  group: custom.k8s.io
  version: v1
  scope: Namespaced
  names:
    plural: containerversions
#    singular: containerversion
    kind: ContainerVersion
#    listKind: ContainerVersionList
    shortNames:
    - cv
  validation:
   # openAPIV3Schema is the schema for validating custom objects.
    openAPIV3Schema:
      properties:
        spec:
          properties:
            tag:
              type: string
              pattern: '^[a-zA-Z0-9-_.]*$'
            imageRepo:
              type: string
              pattern: '^[^:]*$'
            ## Would be better to use label selector but this will be done later
            ## Simple for now
            deployment:
              name:
                type: string
              container:
                type: string
            checkFrequency:
              ## frequency in minutes
              type: integer
            config:
              name:
                type: string
              key:
                type: string
---
# Source: cvmanager/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: sartorial-snake-cvmanager
  namespace: kube-system
  labels:
    app: cvmanager
    chart: cvmanager-0.1.0
    release: sartorial-snake
    heritage: Tiller
spec:
  type: NodePort
  ports:
    - port: 8081
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app: cvmanager
    release: sartorial-snake
---
# Source: cvmanager/templates/deployment.yaml
apiVersion: apps/v1beta2
kind: Deployment
metadata:
  namespace: kube-system
  name: sartorial-snake-cvmanager
  labels:
    app: cvmanager
    chart: cvmanager-0.1.0
    release: sartorial-snake
    heritage: Tiller
spec:
  replicas: 1
  selector:
    matchLabels:
      app: cvmanager
      release: sartorial-snake
  template:
    metadata:
      labels:
        app: cvmanager
        release: sartorial-snake
    spec:
      containers:
        - name: cvmanager
          image: "nearmap/cvmanager:39891f1f2e80e9ada3c13d4a522ebd207ac4acea"
          imagePullPolicy: IfNotPresent
          args:
            - "run"
            - "--configmap-key=kube-system/sartorial-snake-cvmanager"
          env:
          - name: INSTANCENAME
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          - name: STATS_HOST
            valueFrom:
              fieldRef:
                fieldPath: status.hostIP
          ports:
            - name: http
              containerPort: 8081
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: http
          readinessProbe:
            httpGet:
              path: /
              port: http
          resources:
            {}
            
      nodeSelector:
        node-role.kubernetes.io/master: ""
        
      tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/master
